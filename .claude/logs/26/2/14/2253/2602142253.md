# 작업 로그 - 2253.md

## 작업 내용
1. Opinion 생성 시 `created_at` 값이 null로 저장되는 버그 수정 (`@PrePersist` 추가)
2. 의견 수정(PUT) 기능 추가

## 사용된 프롬프트
`.claude/prompts/26/2/14/2253.md`

## 수정된 파일
- `src/main/java/yi/memberapi/domain/opinion/Opinion.kt` — `@PrePersist` 추가, title/content를 `var`로 변경

## 생성된 파일

### DTO (Request)
- `src/main/java/yi/memberapi/adapter/webapi/dto/request/UpdateOpinionRequest.kt`

### Service (Interface + Implementation)
- `src/main/java/yi/memberapi/application/required/OpinionUpdater.kt`
- `src/main/java/yi/memberapi/application/opinion/command/CommandOpinionUpdater.kt`

### Controller (API)
- `src/main/java/yi/memberapi/adapter/webapi/UpdateRecordOpinionApi.kt`
- `src/main/java/yi/memberapi/adapter/webapi/UpdateNewsOpinionApi.kt`

### API Document (수정)
- `api_documents/opinion.md` — PUT 엔드포인트 2개 추가

## 추가된 API Endpoints
- `PUT /api/daily-top30-records/{recordId}/opinions/{opinionId}` - 상한가 의견 수정
- `PUT /api/news/{newsId}/opinions/{opinionId}` - 뉴스 의견 수정
