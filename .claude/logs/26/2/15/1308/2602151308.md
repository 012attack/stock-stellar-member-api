# 뉴스-테마 1:N 연관 기능 추가

## 작업일시
2026-02-15

## 사용 프롬프트
`.claude/prompts/26/2/15/1308.md`

## 작업 내용
뉴스 기사에 테마를 N:N(ManyToMany)으로 엮을 수 있는 기능 구현

## 변경 파일

### 신규 생성
- `src/main/resources/sql/create_news_themes_table.sql` - news_themes 연관 테이블 DDL
- `src/main/java/yi/memberapi/application/required/NewsThemeAdder.kt` - 테마 추가 인터페이스
- `src/main/java/yi/memberapi/application/required/NewsThemeRemover.kt` - 테마 제거 인터페이스
- `src/main/java/yi/memberapi/application/news/command/CommandNewsThemeAdder.kt` - 테마 추가 서비스
- `src/main/java/yi/memberapi/application/news/command/CommandNewsThemeRemover.kt` - 테마 제거 서비스
- `src/main/java/yi/memberapi/adapter/webapi/dto/request/AddNewsThemeRequest.kt` - 테마 추가 요청 DTO
- `src/main/java/yi/memberapi/adapter/webapi/AddNewsThemeApi.kt` - POST /api/news/{newsId}/themes
- `src/main/java/yi/memberapi/adapter/webapi/RemoveNewsThemeApi.kt` - DELETE /api/news/{newsId}/themes/{themeId}

### 수정
- `src/main/java/yi/memberapi/domain/news/News.kt` - ManyToMany themes 관계 추가
- `src/main/java/yi/memberapi/adapter/webapi/dto/response/NewsResponse.kt` - themes 필드 추가
- `src/main/java/yi/memberapi/application/provided/NewsRepository.kt` - findByIdWithPressAndThemes 쿼리 추가
- `src/main/java/yi/memberapi/application/news/query/QueryNewsLister.kt` - themes 매핑 추가
- `src/main/java/yi/memberapi/application/news/query/QueryNewsFinder.kt` - themes 매핑 추가
- `api_documents/news.md` - 새 API 엔드포인트 문서 추가

## 새 API
| Method | Endpoint | Description |
|--------|----------|-------------|
| POST | `/api/news/{newsId}/themes` | 뉴스에 테마 추가 |
| DELETE | `/api/news/{newsId}/themes/{themeId}` | 뉴스에서 테마 제거 |
